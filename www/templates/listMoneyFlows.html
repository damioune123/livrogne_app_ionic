<ion-view view-title="Liste des transerts" cache-view="false">
    <ion-content  ng-class="{expanded:$scope.isExpanded}" style="background-color: #000000">
        <ion-refresher on-refresh="doRefresh()"></ion-refresher>
        <div class="hero " >
            <div class="content">
                <h3><a ng-show="typeMoneyFlows=='positive'" class="head light">Liste recharges</a></h3>
                <h3><a ng-show="typeMoneyFlows=='negative'" class="head light">Liste emboursements</a></h3>
                <h4><a class="light">{{firstName}}  {{lastName}}</a></h4>
                <h4><a class="light">Solde : {{moneyBalance}}€</a></h4>
                <h4><a class="light">Solde disponible : {{availableBalance}}€</a></h4>
                <h4 ng-hide="godfatherCredentials==undefined" ><a class="head">Parrain :{{godfatherCredentials}}</a></h4>
            </div>
        </div>
        <div ng-show="moneyFlows.length==0"class="content">
            <h4 class="light"> Pas de transferts encore enregistrés </h4>
        </div>


        <ion-item class="item-accordion" ng-repeat="moneyFlow in moneyFlows" >
            <button class="button button-clear button-block {{classMoneyFlow(moneyFlow.is_cancelled)}} text-center" ng-click="showMoneyFlow(moneyFlow.id)">
                N° {{moneyFlow.id}} - Montant : {{moneyFlow.value}}€ - {{formatDate(moneyFlow.created_at)}}
            </button>
        </ion-item>
        <ion-infinite-scroll immediate-check="false" ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" ></ion-infinite-scroll>

    </ion-content>
</ion-view>
