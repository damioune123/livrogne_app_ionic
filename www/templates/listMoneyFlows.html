<ion-view view-title="Liste des transerts" cache-view="false">
    <ion-content  ng-class="{expanded:$scope.isExpanded}" >
        <ion-refresher on-refresh="doRefresh()"
                       pulling-text="Tirez pour rafraichir.."
                       refreshing-text="Chargement!"
                       refreshing-icon="ion-loading-c">

        </ion-refresher>
        <div class="hero  " >
            <div class="content">
                <h3><a ng-show="typeMoneyFlows=='positive'" class="head light">Liste recharges</a></h3>
                <h3><a ng-show="typeMoneyFlows=='negative'" class="head light">Liste remboursements</a></h3>
                <h3> <a class="head">{{firstName}}  {{lastName}} </a></h3>
                <h4> <a class="head">Solde : {{moneyBalance}}€</a></h4>
                <h4><a class="head">Solde disponible : {{availableBalance}}€</a></h4>
                <h4 ng-hide="godfatherCredentials==undefined"> <a class="head">  >Parrain :{{godfatherCredentials}}</a></h4>
            </div>
        </div>
        <div ng-show="moneyFlows.length==0"class="content">
            <h4 class="light"> Pas de transferts encore enregistrés </h4>
        </div>

        <ion-item class="item-accordion" ng-repeat="moneyFlow in moneyFlows" >
            <div class="option button button-clear text-center custom-button " ng-click="showMoneyFlow(moneyFlow.id)">
                <h2 class="text-center"> <a class="{{classMoneyFlow(moneyFlow.isCancelled==1)}}">Transfert N° {{moneyFlow.id}}</a></h2>
                <p class="text-center">Montant : {{moneyFlow.value}}€ - {{formatDate(moneyFlow.createdAt)}} </p>
            </div >
        </ion-item>
        <ion-infinite-scroll immediate-check="false" ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" ></ion-infinite-scroll>

    </ion-content>
</ion-view>
